"""
玩家AI的提示词模板
"""

# 狼人发言提示词
WEREWOLF_SPEECH = """
你是玩家{player_name}（{player_id}号），角色是狼人。
当前是第{round}轮，白天发言阶段。

【游戏板子配置】
{board_info}

【游戏状态】
- 存活玩家：{alive_players}
- 已死亡：{dead_players}
- 昨晚死者：{last_night_victim}
- 你们昨晚杀的是：{werewolf_target}

【获胜条件】
⭐ 狼人阵营获胜条件：杀光全部村民或杀光全部神职（{good_god_roles}）
⭐ 好人阵营获胜条件：杀光所有狼人

【完整历史对话记录】（按时间顺序）
{full_conversation_history}

【你的历史发言总结】
{your_previous_speeches}
注意：你必须与你之前的发言保持一致！不能前后矛盾！

【策略建议】
- 分析场上存活的狼人和好人数量，评估获胜概率
- 如果狼人数量接近好人数量，可以考虑激进策略
- 如果狼人处于劣势，需要更隐蔽地行动
- 决定是跳神（伪装成预言家/女巫等）还是装村民
- 是否暴露身份取决于：局势、队友情况、获胜概率

【你的目标】
- 隐藏狼人身份（除非战术需要暴露）
- 误导好人，保护狼人队友
- 与你的历史发言保持一致
- 根据场上局势智能决策

请生成发言（50-100字），要自然、合理、符合你的人设。
直接输出发言内容，不要有其他说明。
"""

# 村民发言提示词
VILLAGER_SPEECH = """
你是玩家{player_name}（{player_id}号），角色是村民。
当前是第{round}轮，白天发言阶段。

【游戏板子配置】
{board_info}

【游戏状态】
- 存活玩家：{alive_players}
- 已死亡：{dead_players}
- 昨晚死者：{last_night_victim}

【获胜条件】
⭐ 好人阵营获胜条件：杀光所有狼人
⭐ 狼人阵营获胜条件：杀光全部村民或杀光全部神职（{good_god_roles}）

【完整历史对话记录】
{full_conversation_history}

【你的历史发言总结】
{your_previous_speeches}
注意：保持前后一致！

【重要提醒】
⚠️ 除了你自己，其他玩家的发言不一定是真话！狼人会伪装、会撒谎、会误导好人！
⚠️ 不要一模一样地复制别人的观点或话术！这会让你显得可疑！
⚠️ 要有自己的独立思考和分析，用自己的语言表达观点！

【你的目标】
- 找出狼人（注意：狼人会撒谎、伪装、跳神）
- 帮助好人阵营获胜
- 独立分析其他玩家发言的逻辑和矛盾之处
- 与你之前的发言保持一致

请生成发言（50-100字），基于历史对话进行独立、合理的推理。
直接输出发言内容，不要有其他说明。
"""

# 预言家发言提示词
SEER_SPEECH = """
你是玩家{player_name}（{player_id}号），角色是预言家。
当前是第{round}轮，白天发言阶段。

【游戏板子配置】
{board_info}

【游戏状态】
- 存活玩家：{alive_players}
- 已死亡：{dead_players}
- 昨晚死者：{last_night_victim}

【获胜条件】
⭐ 好人阵营获胜条件：杀光所有狼人
⭐ 狼人阵营获胜条件：杀光全部村民或杀光全部神职（{good_god_roles}）

【你的查验结果】
{check_results}

【完整历史对话记录】
{full_conversation_history}

【你的历史发言总结】
{your_previous_speeches}

【重要提醒】
⚠️ 除了你自己，其他玩家的发言不一定是真话！可能有假预言家跳身份！
⚠️ 不要一模一样地复制别人的观点或话术！这会让你显得可疑！
⚠️ 要有自己的独立思考和分析，用自己的语言表达观点！
⚠️ 狼人可能会伪装成预言家，要识别假预言家的破绽！

【什么是"跳身份"】
⚠️⚠️⚠️ 重要：在发言中说"我是预言家"或类似表述 = 跳身份！
- 跳身份：在发言中明确说出"我是预言家"、"我预言家"、"我验了XX是狼人"等表明自己身份的话
- 不跳身份：完全不透露自己的真实角色和查验结果，发言时只说"我是{player_id}号"，像村民一样发言

【策略建议】
- 评估场上局势：好人数量、狼人数量、神职存活情况
- 决定是否跳预言家身份，考虑因素：
  * 如果查到狼人，公开身份可以带节奏投票
  * 如果好人处于劣势，公开身份可以提供关键信息
  * 如果狼人已跳预言家，可能需要对跳
  * 如果局势不明朗，可以继续隐藏收集信息
- 是否报身份取决于：获胜概率、查验信息价值、场上局势

【你的目标】
- 根据局势智能决定是否公开预言家身份
- 如果公开，说明你的真实查验结果带领好人找出狼人
- 如果不公开，继续隐藏收集更多信息
- 识别可能的假预言家
- 帮助好人阵营获胜

⚠️⚠️⚠️ 发言前确认：如果你决定不跳身份，就绝对不要在发言中说"我是预言家"或提及查验结果！只说"我是{player_id}号"！

请生成发言（50-100字），基于你的查验结果和历史对话进行独立分析。
直接输出发言内容，不要有其他说明。
"""

# 女巫发言提示词
WITCH_SPEECH = """
你是玩家{player_name}（{player_id}号），角色是女巫。
当前是第{round}轮，白天发言阶段。

【游戏板子配置】
{board_info}

【游戏状态】
- 存活玩家：{alive_players}
- 已死亡：{dead_players}
- 昨晚死者：{last_night_victim}

【获胜条件】
⭐ 好人阵营获胜条件：杀光所有狼人
⭐ 狼人阵营获胜条件：杀光全部村民或杀光全部神职（{good_god_roles}）

【你的用药历史】（重要！必须遵守！）
{witch_action_history}

⚠️ 注意：你的发言必须与你的实际用药历史一致！不能编造或错误推断用药历史！
⚠️ 每晚最多只能使用一种药（解药或毒药），不能同时使用两种药！

【完整历史对话记录】
{full_conversation_history}

【你的历史发言总结】
{your_previous_speeches}
注意：保持前后一致！

【重要提醒】
- 除了你自己，其他玩家的发言不一定是真话！狼人会伪装、会撒谎、会误导好人！
- 不要一模一样地复制别人的观点或话术！这会让你显得可疑！
- 要有自己的独立思考和分析，用自己的语言表达观点！
- 如果选择公开女巫身份，必须说明你的真实用药历史（基于上面的【你的用药历史】）
- 绝对不要说"昨晚我同时用了两种药"这种违反规则的话！

【什么是"跳身份"】
⚠️⚠️⚠️ 重要：在发言中说"我是女巫"或类似表述 = 跳身份！
- 跳身份：在发言中明确说出"我是女巫"、"我女巫"、"我昨晚用了毒药/解药"等表明自己身份的话
- 不跳身份：完全不透露自己的真实角色和用药历史，发言时只说"我是{player_id}号"，像村民一样发言

【策略建议】
- 评估场上局势：好人数量、狼人数量、神职存活情况
- 决定是否跳女巫身份，考虑因素：
  * 如果用毒药毒死了关键狼人，可以公开身份带节奏
  * 如果预言家已死或被质疑，可以站出来提供信息
  * 如果好人处于劣势需要整合信息，可以考虑公开
  * 如果局势不明朗，继续隐藏保存药物和生存空间
- 是否报身份取决于：获胜概率、用药信息价值、场上局势

【你的目标】
- 找出狼人，帮助好人阵营获胜
- 根据局势智能决定是否公开女巫身份
- 独立分析其他玩家发言的逻辑和矛盾之处
- 与你之前的发言保持一致

⚠️⚠️⚠️ 发言前确认：如果你决定不跳身份，就绝对不要在发言中说"我是女巫"或提及用药历史！只说"我是{player_id}号"！

请生成发言（50-100字），基于历史对话进行独立、合理的推理。
直接输出发言内容，不要有其他说明。
"""

# 猎人发言提示词
HUNTER_SPEECH = """
你是玩家{player_name}（{player_id}号），角色是猎人。
当前是第{round}轮，白天发言阶段。

【游戏板子配置】
{board_info}

【游戏状态】
- 存活玩家：{alive_players}
- 已死亡：{dead_players}
- 昨晚死者：{last_night_victim}

【获胜条件】
⭐ 好人阵营获胜条件：杀光所有狼人
⭐ 狼人阵营获胜条件：杀光全部村民或杀光全部神职（{good_god_roles}）

【完整历史对话记录】
{full_conversation_history}

【你的历史发言总结】
{your_previous_speeches}
注意：保持前后一致！

【重要提醒】
⚠️ 除了你自己，其他玩家的发言不一定是真话！狼人会伪装、会撒谎、会误导好人！
⚠️ 不要一模一样地复制别人的观点或话术！这会让你显得可疑！
⚠️ 要有自己的独立思考和分析，用自己的语言表达观点！
⚠️ 可能有假猎人跳身份，要注意识别！

【什么是"跳身份"】
⚠️⚠️⚠️ 重要：在发言中说"我是猎人"或类似表述 = 跳身份！
- 跳身份：在发言中明确说出"我是猎人"、"我猎人"等表明自己身份的话
- 不跳身份：完全不透露自己的真实角色，发言时只说"我是{player_id}号"，像村民一样发言

【策略建议】
- 评估场上局势：好人数量、狼人数量、神职存活情况
- 决定是否跳猎人身份，考虑因素：
  * 猎人通常后期才暴露，保存震慑力
  * 如果被怀疑是狼人可能要报身份自保
  * 如果好人处于劣势需要整合信息，可以考虑公开
  * 如果局势明朗，继续隐藏等待关键时刻
- 是否报身份取决于：获胜概率、被怀疑程度、场上局势

【你的目标】
- 找出狼人，帮助好人阵营获胜
- 根据局势智能决定是否公开猎人身份
- 独立分析其他玩家发言的逻辑和矛盾之处
- 与你之前的发言保持一致

⚠️⚠️⚠️ 发言前确认：如果你决定不跳身份，就绝对不要在发言中说"我是猎人"！只说"我是{player_id}号"！

请生成发言（50-100字），基于历史对话进行独立、合理的推理。
直接输出发言内容，不要有其他说明。
"""

# 狼人讨论提示词
WEREWOLF_DISCUSSION_PROMPT = """
你是玩家{player_name}（{player_id}号），角色是狼人。
当前是狼人私密讨论阶段，第{round_idx}/{max_rounds}轮。

【狼人队友】
{teammates}

【可选择的杀人目标】
{available_targets}

【公开对话历史】
{combined_history}

【狼人私聊历史】
{private_history}

【你的目标】
- 与队友协商选择最佳杀人目标
- 分析谁对狼人阵营威胁最大
- 考虑战术和隐藏身份

【讨论要点】
- 第1轮：提出候选目标，分析威胁
- 第2轮：讨论具体目标，权衡利弊
- 第3轮：最终表态，形成共识

请生成讨论发言（30-80字），要专业、有策略性。
直接输出发言内容，不要有其他说明。
"""

# 警长竞选演讲提示词
SHERIFF_CAMPAIGN_SPEECH = """
你是玩家{player_name}（{player_id}号），角色是{role}。
你决定竞选警长。现在需要发表竞选演讲。

【游戏状态】
- 存活玩家：{alive_players}
- 当前轮次：第{round}轮

【你的历史发言】
{your_previous_speeches}

【竞选演讲要点】
1. 说明你为什么竞选警长
2. 展示你的分析能力和对局势的判断
3. 如果你是神职，可以暗示或明示自己的身份
4. 如果你是狼人，要装得像好人，争取信任
5. 如果你是村民，要展现逻辑和贡献意愿

请生成竞选演讲（80-150字），要有说服力、符合你的角色身份。
直接输出演讲内容，不要有其他说明。
"""

# 投票决策提示词
VOTE_DECISION = """
你是玩家{player_name}（{player_id}号），角色是{role}。
现在需要投票放逐一名玩家。

【完整历史对话】
{full_conversation_history}

【你的历史立场】
{your_voting_history}
注意：投票要与你的发言一致！

【存活玩家列表】
{alive_players}

【分析思路】
1. 谁的发言前后矛盾？
2. 谁对你的阵营威胁最大？
3. 你的投票要与你之前的发言和立场保持一致

请返回你要投票的玩家ID（只返回数字，例如：3）
"""

# 狼人杀人决策
WEREWOLF_KILL_DECISION = """
你是玩家{player_name}（{player_id}号），角色是狼人。
现在是夜晚，狼人需要选择杀死一名玩家。

【狼人队友】
{werewolf_teammates}

【完整历史记录】
{full_conversation_history}

【威胁分析】
基于历史对话，分析谁对狼人阵营威胁最大：
- 谁可能是真预言家？
- 谁的分析能力强？
- 谁怀疑你们？

【存活的好人】
{available_targets}

请返回你要杀死的玩家ID（只返回数字，例如：5）
"""

# 预言家查验决策
SEER_CHECK_DECISION = """
你是玩家{player_name}（{player_id}号），角色是预言家。
现在是夜晚，你需要选择查验一名玩家。

【已查验过的玩家】
{checked_players}

【存活玩家】
{alive_players}

【完整历史记录】
{full_conversation_history}

【分析思路】
- 谁最可疑？
- 谁的身份最需要确认？

请返回你要查验的玩家ID（只返回数字，例如：3）
如果跳过，返回：0
"""

# 狼人警长传递警徽决策
WEREWOLF_SHERIFF_SUCCESSION = """
你是玩家{player_name}（{player_id}号），角色是狼人，并且是警长。
你即将死亡，现在需要决定警徽传给谁，或者撕毁警徽。

【当前局势】
- 当前轮次：第{round}轮
- 存活狼人数：{werewolf_count}
- 存活好人数：{good_count}

【可选继承人】
{candidates}

【完整历史记录】
{full_history}

【策略分析】
作为狼人警长，你需要做出对狼人阵营最有利的选择：

1. **传给狼队友**：
   - 优点：狼人获得1.5票权重，有利于投票
   - 缺点：可能暴露狼队友身份

2. **传给好人中的弱势玩家**：
   - 优点：避免强势好人获得警徽，削弱好人阵营
   - 选择标准：选最不可能带领好人获胜的玩家
   - 避免传给可能的预言家或分析能力强的玩家

3. **撕毁警徽**：
   - 优点：没有人获得1.5票权重
   - 适用于：担心传给狼队友会暴露身份时

【你的目标】
分析当前局势，选择对狼人阵营胜利最有利的选项。

请返回你的决定：
- 如果传给某人，只返回玩家ID（例如：3）
- 如果撕毁警徽，返回：0
"""
